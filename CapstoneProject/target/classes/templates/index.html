<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="header (pageTitle)">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8" />
	<title th:text="${pageTitle}">Home</title>
	<link th:href="@{/css/styles.css}" rel="stylesheet">
	<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
	<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
	<div id="LayoutHeaders">
		<h1>localFix</h1>	
		<h2>Search for a Shop by entering your device</h2>
	</div>
	
	<form id='search' action="#" th:action="@{/search}">
		Search: <input type="text" name="search">
	</form>
	
	<div id='map' class='map pad2' style='width: 800px; height: 400px;'></div>
	<script>
  		mapboxgl.accessToken = 'pk.eyJ1Ijoib2thbmF3YXRpIiwiYSI6ImNrZzhsOXlueDBpZmYyeW8yZnFoaHplOGMifQ.oVTSOlNLzBcJN7EfekHy9g';
  		var map = new mapboxgl.Map({
    	container: 'map',
    	style: 'mapbox://styles/mapbox/streets-v11',
    	center: [-79.644234, 43.590238],
    	zoom: 14
  		});
	</script>
	
	
	<div th:each="shop : ${results}">
		<span th:text="${shop.name}"></span><br>
		<span th:text="${shop.address.street}"></span><br>
		<span th:text="${shop.address.city}"></span><br>
		<span th:text="${shop.address.province}"></span><br>
		<span th:text="${shop.address.postal}"></span><br>
		
		<div th:each="brand : ${shop.brands}">
			<span th:text="${brand.brandName}"></span><br>
		</div>
		<br>
	</div>
	
	<footer th:fragment="footer">
		<div>
			<a href="/" th:href="@{/}">Home</a> ||
			<a href="/goRegisterCustomer" th:href="@{/goRegisterCustomer}">Register Customer</a> ||
			<a href="/goRegisterOwner" th:href="@{/goRegisterOwner}">Register Shop Owner</a> ||
			<a href="/viewAccount" th:href="@{/viewAccount}">View Account</a>
		</div>
	</footer>
</body>
</html>
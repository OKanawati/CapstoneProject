<!DOCTYPE html>
<html xmlns:th="https://www.thymeLeaf.org">
<head th:include="index.html :: header (pageTitle='Account Information')">
</head>
<body>
	<div id="LayoutHeaders">
		<h1>ACCOUNT INFORMATION</h1>
	</div>
	<div id="AccountInformation">
		<h2>Welcome, [[${owner.firstName}]]</h2>
			Name: <span>[[${owner.firstName}]] [[${owner.lastName}]]</span><br>
			Email: <span th:text="${owner.email}"></span><br>
			Account Active: <span th:text="${owner.accountStatus}"></span><br>
	</div>
	<br>
	
<!-- 	View the list of registered shops belonging to the owner logged in -->
	<div id="shops">
		<h3>Registered Shops</h3>
			<div th:if="${not #lists.isEmpty(owner.shopList)}">
				<div th:each="shop : ${owner.shopList}">
				Name: <span th:text="${shop.name}"></span><br>
				Phone: <span th:text="${shop.phoneNumber}"></span><br>
				Address:<br>
				<span th:text="${shop.address.street}"></span><br>
				<span th:text="${shop.address.city}"></span><br>
				<span th:text="${shop.address.province}"></span><br>
				<span th:text="${shop.address.postal}"></span><br>
				Supported Brands: 
				<div th:each="brand : ${shop.brands}">
					<span th:text="${brand.brandName}"></span><br>
				</div>
					
				<br>
				Appointments:<br>
					<div th:if="${not #lists.isEmpty(shop.appointments)}">
						<div th:each="appointment : ${shop.appointments}">
						
						</div>
					</div>
					<div th:unless="${not #lists.isEmpty(shop.appointments)}">
						<span>No appointments scheduled</span>
					</div>
					<br>
				</div>
			</div>
			<div th:unless="${not #lists.isEmpty(owner.shopList)}">
				<span>No shops registered</span>			
			</div>
			<br>
			<a href="/goRegisterShop" th:href="@{/goRegisterShop}">Add Shop</a>
			
	</div>
		
	<form action="#" th:action="@{/logout}" method="post">
		<div class='logout'>
			<input type="submit" value="Logout" class="pure-button pure-button-primary">
		</div>
	</form>	
	<footer th:insert="index.html :: footer"></footer>
</body>
</html>